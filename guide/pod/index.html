<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Pods - Kubernetes Introduction</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/favicon.png><link rel=stylesheet href=/VIA-Kubernetes-Introduction/css/style.min.e0a2ab335854ea3265fd2ea419dc847fab383c2485602b9c47c3a9eb7c4ffce7.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/VIA-Kubernetes-Introduction/><span>Home</span></a></li><li class=menu-item-guide><a href=/VIA-Kubernetes-Introduction/guide/><span>Guide</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/><img alt=Logo src=/VIA-Kubernetes-Introduction/images/logo.svg></a></div><div class=logo-mobile><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/><img alt=Logo src=/VIA-Kubernetes-Introduction/images/logo-mobile.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/VIA-Kubernetes-Introduction/><span>Home</span></a></li><li class=menu-item-guide><a href=/VIA-Kubernetes-Introduction/guide/><span>Guide</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><h4>Guide</h4><ul><li><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/guide/setup/>Installation</a></li><li><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/guide/containers/>Containers</a></li><li class=active><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/guide/pod/>Pods</a></li><li><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/guide/deployment/>Deployment</a></li><li><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/guide/service/>Service</a></li><li><a href=https://lukaspj.github.io/VIA-Kubernetes-Introduction/guide/configure/></a></li></ul></div></div></div><div class="col-12 col-md-9"><h1 class=title>Pods</h1><div class=content><p>In Kubernetes, a &ldquo;Pod&rdquo;<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> is the smallest deployable unit possible.
This is kind of an abstract description. It&rsquo;s easiest to think of as
a pod = a container. In advanced Kubernetes usage, this is not always
true, but for now it is enough.</p><p>All Kubernetes deployments are described using a generic YAML format,
which can be quite verbose.</p><p>Here is a YAML for creating a pod using <a href=../containers>our Docker image</a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class=l>v1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>kind</span><span class=p>:</span><span class=w> </span><span class=l>Pod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pythonapp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spec</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>containers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>pythonapp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>pythonapp</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>imagePullPolicy</span><span class=p>:</span><span class=w> </span><span class=l>Never</span><span class=w>
</span></span></span></code></pre></div><p>It&rsquo;s quite mouthful isn&rsquo;t it? Well Kubernetes is incredibly flexible but
that flexibility comes at a cost of complexity. Let&rsquo;s take this file from
the top.</p><p>Most Kubernetes YAML files start with <code>apiVersion</code>, <code>kind</code>, <code>metadata</code> and
<code>spec</code>.</p><p><code>apiVersion</code> and <code>kind</code> describe which kind and version of the &ldquo;pod&rdquo; object
you are trying to create. If at some point in the future the &ldquo;pod&rdquo; object
was changed in an incompatible way, the apiVersion would be bumped version
<code>v2</code> and the kind would stay the same, that way Kubernetes can maintain
backwards compatibility for many versions.</p><p><code>metadata</code> is a collection of settings that give you information about the
created Pod. In this case we are just setting the name, but there is a lot
of options for e.g. tagging your objects in order to identify them easily.</p><p><code>spec</code> is where we actually describe the pod object, in this case we
specify that this pod consists of a single container called &ldquo;pythonapp&rdquo;
using the Docker image &ldquo;pythonapp&rdquo;.</p><p>We also set &ldquo;imagePullPolicy&rdquo; to never, this is necessary in order to
make it use our locally built Docker image and avoid it trying to
fetch it from the internet instead.</p><h2 id=deploying-the-pod>Deploying the pod</h2><p>Alright, in order to deploy this pod to Kubernetes: just copy the YAML
above to a file called &ldquo;pod.yaml&rdquo; and run the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f pod.yaml
</span></span></code></pre></div><p>Verify that the pod is now running with this command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pod
</span></span></code></pre></div><p>You should see something like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>‚ùØ kubectl get pod
</span></span><span class=line><span class=cl>NAME        READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>pythonapp   1/1     Running   <span class=m>0</span>          5m29s
</span></span></code></pre></div><p>You might notice that <a href=http://localhost:5000>localhost:5000</a> doesn&rsquo;t
work. This is because pods are protected from external connection by
default, if you want to connect to a local pod you can use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl port-forward pod/pythonapp 5000:5000
</span></span></code></pre></div><p>And then try <a href=http://localhost:5000>localhost:5000</a> again!</p><p>You can remove the pod by running:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl delete pod pythonapp 
</span></span></code></pre></div><p>Now you can look at <a href=../deployment>pod management using deployments</a>.</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p><a href=https://kubernetes.io/docs/concepts/workloads/pods/>https://kubernetes.io/docs/concepts/workloads/pods/</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul><li class=zerostatic><a href=https://www.zerostatic.io>www.zerostatic.io</a></li></ul></div></div></div></div></div><script type=text/javascript src=/VIA-Kubernetes-Introduction/js/scripts.min.55e8e1e2e7596c9a982bc04119cee1e2d4624c4c5a2dc0e9eb63ce401be14a24.js></script></body></html>